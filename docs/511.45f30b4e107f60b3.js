"use strict";(self.webpackChunkdynastypay_frontend=self.webpackChunkdynastypay_frontend||[]).push([[511],{7511:(X,p,i)=>{i.r(p),i.d(p,{UsersModule:()=>L});var f=i(6814),h=i(3365),C=i(3566),r=i(5313),c=i(7700),t=i(5879),m=i(6223),u=i(4472),v=i(2032),U=i(9157),_=i(8525),T=i(3680);function A(e,n){if(1&e&&(t.TgZ(0,"mat-option",16),t._uU(1),t.qZA()),2&e){const o=n.$implicit;t.Q6J("value",o.Id),t.xp6(1),t.Oqu(o.Name)}}let g=(()=>{class e{constructor(o,s,a,l,d,P){this._dialogRef=o,this._fb=s,this._providerService=a,this._userService=l,this._clientService=d,this.data=P,this.usersForm=this._fb.group({Username:"",Password:"",Email:"",Name:"",Role:1,ClientId:1})}ngOnInit(){this.getAllClients(),this.usersForm.patchValue(this.data)}onFormSubmit(){console.log(this.usersForm.value),this.obsUser=this._userService.apiUserCreateUserPost(this.usersForm.value),this.subsUser=this.obsUser.subscribe({next:o=>{this._dialogRef.close(!0),alert("User Added Successfully")},error:o=>{console.log(o)},complete:()=>{this.subsUser.unsubscribe()}})}getAllClients(){this.obsClient=this._clientService.apiClientGetAllClientsGet(),this.subsClient=this.obsClient.subscribe({next:o=>{this.clientsList=o,console.log("asd",this.clientsList)},error:o=>{console.log(o)},complete:()=>{}})}static#t=this.\u0275fac=function(s){return new(s||e)(t.Y36(c.so),t.Y36(m.qu),t.Y36(u.j7),t.Y36(u.KD),t.Y36(u.yt),t.Y36(c.WI))};static#e=this.\u0275cmp=t.Xpm({type:e,selectors:[["app-users-form"]],decls:44,vars:2,consts:[["mat-dialog-title",""],[3,"formGroup","ngSubmit"],["mat-dialog-content",""],[1,"row"],[1,"col-md-6"],["appearance","outline"],["matInput","","placeholder","","formControlName","Name"],["matInput","","placeholder","","formControlName","Email"],["matInput","","placeholder","","formControlName","Username"],["type","password","matInput","","placeholder","","formControlName","Password"],["matInput","","placeholder","","formControlName","Role"],["formControlName","ClientId"],[3,"value",4,"ngFor","ngForOf"],["mat-dialog-actions",""],["type","button",1,"btn","btn-default"],["type","submit",1,"btn","btn-primary"],[3,"value"]],template:function(s,a){1&s&&(t.TgZ(0,"div",0)(1,"h1"),t._uU(2,"User Form"),t.qZA()(),t.TgZ(3,"form",1),t.NdJ("ngSubmit",function(){return a.onFormSubmit()}),t.TgZ(4,"div",2)(5,"div",3)(6,"div",4)(7,"mat-form-field",5)(8,"mat-label"),t._uU(9,"Name"),t.qZA(),t._UZ(10,"input",6),t.qZA()(),t.TgZ(11,"div",4)(12,"mat-form-field",5)(13,"mat-label"),t._uU(14,"Email"),t.qZA(),t._UZ(15,"input",7),t.qZA()()(),t.TgZ(16,"div",3)(17,"div",4)(18,"mat-form-field",5)(19,"mat-label"),t._uU(20,"Username"),t.qZA(),t._UZ(21,"input",8),t.qZA()(),t.TgZ(22,"div",4)(23,"mat-form-field",5)(24,"mat-label"),t._uU(25,"Password"),t.qZA(),t._UZ(26,"input",9),t.qZA()()(),t.TgZ(27,"div",3)(28,"div",4)(29,"mat-form-field",5)(30,"mat-label"),t._uU(31,"Role"),t.qZA(),t._UZ(32,"input",10),t.qZA()(),t.TgZ(33,"div",4)(34,"mat-form-field")(35,"mat-label"),t._uU(36,"Client"),t.qZA(),t.TgZ(37,"mat-select",11),t.YNc(38,A,2,2,"mat-option",12),t.qZA()()()()(),t.TgZ(39,"div",13)(40,"button",14),t._uU(41,"Cancel"),t.qZA(),t.TgZ(42,"button",15),t._uU(43,"Save"),t.qZA()()()),2&s&&(t.xp6(3),t.Q6J("formGroup",a.usersForm),t.xp6(35),t.Q6J("ngForOf",a.clientsList))},dependencies:[f.sg,v.Nt,U.KE,U.hX,c.uh,c.xY,c.H8,_.gD,T.ey,m._Y,m.Fj,m.JJ,m.JL,m.sg,m.u]})}return e})();var y=i(617),b=i(2296),N=i(9843);function x(e,n){1&e&&(t.TgZ(0,"th",23),t._uU(1," Name "),t.qZA())}function S(e,n){if(1&e&&(t.TgZ(0,"td",24),t._uU(1),t.qZA()),2&e){const o=n.$implicit;t.xp6(1),t.hij(" ",o.Name," ")}}function F(e,n){1&e&&(t.TgZ(0,"th",23),t._uU(1," Username "),t.qZA())}function Y(e,n){if(1&e&&(t.TgZ(0,"td",24),t._uU(1),t.qZA()),2&e){const o=n.$implicit;t.xp6(1),t.hij(" ",o.Username," ")}}function R(e,n){1&e&&(t.TgZ(0,"th",23),t._uU(1,"E-mail Address "),t.qZA())}function q(e,n){if(1&e&&(t.TgZ(0,"td",24),t._uU(1),t.qZA()),2&e){const o=n.$implicit;t.xp6(1),t.hij(" ",o.Email," ")}}function w(e,n){1&e&&(t.TgZ(0,"th",23),t._uU(1,"Role "),t.qZA())}function D(e,n){if(1&e&&(t.TgZ(0,"td",24),t._uU(1),t.qZA()),2&e){const o=n.$implicit;t.xp6(1),t.hij(" ",o.Role," ")}}function I(e,n){1&e&&(t.TgZ(0,"th",23),t._uU(1,"Client"),t.qZA())}function B(e,n){if(1&e&&(t.TgZ(0,"td",24),t._uU(1),t.qZA()),2&e){const o=n.$implicit;t.xp6(1),t.hij(" ",o.ClientId," ")}}function J(e,n){1&e&&(t.TgZ(0,"th",23),t._uU(1,"Actions "),t.qZA())}function Q(e,n){if(1&e){const o=t.EpF();t.TgZ(0,"td",24)(1,"button",25),t.NdJ("click",function(){const l=t.CHM(o).$implicit,d=t.oxw();return t.KtG(d.openEditForm(l))}),t.TgZ(2,"mat-icon"),t._uU(3,"edit"),t.qZA()(),t.TgZ(4,"button",26)(5,"mat-icon"),t._uU(6,"delete"),t.qZA()()()}}function E(e,n){1&e&&t._UZ(0,"tr",27)}function G(e,n){1&e&&t._UZ(0,"tr",28)}function j(e,n){1&e&&(t.TgZ(0,"tr",29)(1,"td",30),t._uU(2,"No data matching the filter"),t.qZA()())}const K=function(){return[5,10,25,100]};let H=(()=>{class e{constructor(o,s){this._dialog=o,this._userService=s,this.displayedColumns=["Name","Username","Email","Role","ClientId","Actions"]}ngOnInit(){this.getAllUserByClientId(),console.log()}applyFilter(o){this.dataSource.filter=o.target.value.trim().toLowerCase(),this.dataSource.paginator&&this.dataSource.paginator.firstPage()}openForm(){this._dialog.open(g).afterClosed().subscribe({next:s=>{s&&this.getAllUserByClientId()}})}openEditForm(o){this._dialog.open(g,{data:o}).afterClosed().subscribe({next:a=>{a&&this.getAllUserByClientId()}})}getAllUserByClientId(){this.obsUsers=this._userService.apiUserFindUsersByClientIdGet(1),this.subsUsers=this.obsUsers.subscribe({next:o=>{console.log("asd",o),this.dataSource=new r.by(o),this.dataSource.sort=this.sort,this.dataSource.paginator=this.paginator},error:o=>{console.log(o)},complete:()=>{}})}static#t=this.\u0275fac=function(s){return new(s||e)(t.Y36(c.uw),t.Y36(u.KD))};static#e=this.\u0275cmp=t.Xpm({type:e,selectors:[["app-users"]],viewQuery:function(s,a){if(1&s&&(t.Gf(h.NW,5),t.Gf(C.YE,5)),2&s){let l;t.iGM(l=t.CRH())&&(a.paginator=l.first),t.iGM(l=t.CRH())&&(a.sort=l.first)}},decls:36,vars:5,consts:[[1,"card-wrapper"],[1,"card-header"],[1,"card-title"],[1,"card-actions"],[1,"h-divider"],[3,"searchKeyup"],[1,"btn","btn-primary",3,"click"],[1,"card-body"],[1,"mat-elevation-z8"],["mat-table","","matSort","",3,"dataSource"],["matColumnDef","Name"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","Username"],["matColumnDef","Email"],["matColumnDef","Role"],["matColumnDef","ClientId"],["matColumnDef","Actions"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["aria-label","Select page of users",3,"pageSizeOptions"],[1,"card-footer"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-icon-button","","color","primary",3,"click"],["mat-icon-button","","color","warn"],["mat-header-row",""],["mat-row",""],[1,"mat-row"],["colspan","4",1,"mat-cell"]],template:function(s,a){1&s&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2),t._uU(3," Users List "),t.qZA(),t.TgZ(4,"div",3),t._UZ(5,"div",4),t.TgZ(6,"app-search",5),t.NdJ("searchKeyup",function(d){return a.applyFilter(d)}),t.qZA(),t._UZ(7,"div",4),t.TgZ(8,"button",6),t.NdJ("click",function(){return a.openForm()}),t._uU(9,"Add User"),t.qZA()()(),t.TgZ(10,"div",7)(11,"div",8)(12,"table",9),t.ynx(13,10),t.YNc(14,x,2,0,"th",11),t.YNc(15,S,2,1,"td",12),t.BQk(),t.ynx(16,13),t.YNc(17,F,2,0,"th",11),t.YNc(18,Y,2,1,"td",12),t.BQk(),t.ynx(19,14),t.YNc(20,R,2,0,"th",11),t.YNc(21,q,2,1,"td",12),t.BQk(),t.ynx(22,15),t.YNc(23,w,2,0,"th",11),t.YNc(24,D,2,1,"td",12),t.BQk(),t.ynx(25,16),t.YNc(26,I,2,0,"th",11),t.YNc(27,B,2,1,"td",12),t.BQk(),t.ynx(28,17),t.YNc(29,J,2,0,"th",11),t.YNc(30,Q,7,0,"td",12),t.BQk(),t.YNc(31,E,1,0,"tr",18),t.YNc(32,G,1,0,"tr",19),t.YNc(33,j,3,0,"tr",20),t.qZA(),t._UZ(34,"mat-paginator",21),t.qZA()(),t._UZ(35,"div",22),t.qZA()),2&s&&(t.xp6(12),t.Q6J("dataSource",a.dataSource),t.xp6(19),t.Q6J("matHeaderRowDef",a.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",a.displayedColumns),t.xp6(2),t.Q6J("pageSizeOptions",t.DdM(4,K)))},dependencies:[y.Hw,r.BZ,r.fO,r.as,r.w1,r.Dz,r.nj,r.ge,r.ev,r.XQ,r.Gk,r.Ee,h.NW,b.RK,N.g]})}return e})();var Z=i(4828);const M=[{path:"",component:H}];let O=(()=>{class e{static#t=this.\u0275fac=function(s){return new(s||e)};static#e=this.\u0275mod=t.oAB({type:e});static#o=this.\u0275inj=t.cJS({imports:[Z.Bz.forChild(M),Z.Bz]})}return e})();var z=i(2522),$=i(2318);let L=(()=>{class e{static#t=this.\u0275fac=function(s){return new(s||e)};static#e=this.\u0275mod=t.oAB({type:e});static#o=this.\u0275inj=t.cJS({imports:[f.ez,O,z.M,$.K]})}return e})()}}]);