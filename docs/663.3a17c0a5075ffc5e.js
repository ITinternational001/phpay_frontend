"use strict";(self.webpackChunkdynastypay_frontend=self.webpackChunkdynastypay_frontend||[]).push([[663],{7663:(M,c,i)=>{i.r(c),i.d(c,{LoginModule:()=>C});var d=i(6814),u=i(4828),l=i(3969),m=i(5874),t=i(5879),h=i(4472),p=i(8310),a=i(6223);const f=[{path:"",component:(()=>{class n{constructor(r,o,s,e){this.userService=r,this.router=o,this.ngZone=s,this.notification=e,this.username="",this.password="",this.isAuth=!1,this.showAlert=!1,this.alertType="",this.alertMessage="",this.alertSuccess=!1,this.alertError=!1}ngOnInit(){}onLogin(r,o){this.userService.configuration.username=r,this.userService.configuration.password=o,this.observable=this.userService.apiUserLoginPost({username:r,password:o}),this.subscription=this.observable.subscribe({next:e=>{if(null!==e.Token){const g=e?.Client?.Id??"";sessionStorage.setItem("clientId",g?.toString()),sessionStorage.setItem("token",e.Token),this.notification.showNotification("Login was successfull","close","success"),this.initializeAuthGuard(e.Token)}},error:e=>{console.log(e),this.showAlert=!0,this.notification.showNotification(e.error,"close","error"),this.subscription.unsubscribe()},complete:()=>{}})}initializeAuthGuard(r){l.S.put("accessToken",r),l.S.put("Username",l.S.getFromToken("Username")),sessionStorage.setItem("isAuthenticated","true"),(0,m.c)(l.S.getFromToken("PasswordDidChanged"))?this.ngZone.run(()=>{setTimeout(()=>{this.router.navigate(["/authenticator"])},3e3)}):this.ngZone.run(()=>{setTimeout(()=>{this.router.navigate(["/password/reset"])},5e3)})}static#t=this.\u0275fac=function(o){return new(o||n)(t.Y36(h.KD),t.Y36(u.F0),t.Y36(t.R0b),t.Y36(p.g))};static#n=this.\u0275cmp=t.Xpm({type:n,selectors:[["app-login"]],decls:17,vars:2,consts:[[1,"login-body"],[1,"container","d-flex","justify-content-center","align-items-center","min-vh-100"],[1,"login-container"],[1,"text-center"],["src","../../assets/dpay_logo.png","alt","Logo",1,"logo","mb-3"],[3,"ngSubmit"],["loginForm","ngForm"],[1,"form-group"],["type","text","id","username","name","username","placeholder","Username","value","superadmin","required","",1,"form-control","box",3,"ngModel","ngModelChange"],[1,"form-group","mb-3"],["type","password","id","password","name","password","placeholder","Password","required","",1,"form-control","box",3,"ngModel","ngModelChange"],["type","submit","value","Login",1,"btn","btn-block"]],template:function(o,s){1&o&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),t._UZ(4,"img",4),t.TgZ(5,"h2"),t._uU(6,"Login to your Dashboard"),t.qZA(),t.TgZ(7,"p"),t._uU(8,"Empowering Your Payment Experience"),t.qZA()(),t.TgZ(9,"form",5,6),t.NdJ("ngSubmit",function(){return s.onLogin(s.username,s.password)}),t.TgZ(11,"div",7)(12,"input",8),t.NdJ("ngModelChange",function(g){return s.username=g}),t.qZA()(),t.TgZ(13,"div",9)(14,"input",10),t.NdJ("ngModelChange",function(g){return s.password=g}),t.qZA()(),t.TgZ(15,"button",11),t._uU(16,"Login"),t.qZA()()()()()),2&o&&(t.xp6(12),t.Q6J("ngModel",s.username),t.xp6(2),t.Q6J("ngModel",s.password))},dependencies:[a._Y,a.Fj,a.JJ,a.JL,a.Q7,a.On,a.F],styles:[".login-container[_ngcontent-%COMP%]{padding:20px;text-align:center;width:40%}.logo[_ngcontent-%COMP%]{margin-bottom:50px;width:40%}h2[_ngcontent-%COMP%]{font-size:1.5rem;color:#fff;font-weight:700}p[_ngcontent-%COMP%]{font-size:.9rem;color:#fff;margin-bottom:20px}.form-group[_ngcontent-%COMP%]{text-align:left;margin-bottom:15px}.box[_ngcontent-%COMP%]{width:100%;padding:10px;border:1px solid #ccc;border-radius:5px;background:rgba(217,217,217,.7)}button[_ngcontent-%COMP%]{color:#000;padding:10px 20px;border:none;border-radius:5px;cursor:pointer;font-weight:700;background:linear-gradient(93deg,#977554 0%,#C4986C 25.76%,#F9E8B3 48.9%,#E1B983 74.14%,#977554 100.96%);width:100%}button[_ngcontent-%COMP%]:hover{color:none}"]})}return n})()}];let b=(()=>{class n{static#t=this.\u0275fac=function(o){return new(o||n)};static#n=this.\u0275mod=t.oAB({type:n});static#o=this.\u0275inj=t.cJS({imports:[u.Bz.forChild(f),u.Bz]})}return n})();var v=i(2522);let C=(()=>{class n{static#t=this.\u0275fac=function(o){return new(o||n)};static#n=this.\u0275mod=t.oAB({type:n});static#o=this.\u0275inj=t.cJS({imports:[d.ez,b,a.UX,a.u5,v.M]})}return n})()}}]);